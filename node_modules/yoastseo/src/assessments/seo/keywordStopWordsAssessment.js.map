{"version":3,"sources":["../../../../src/assessments/seo/keywordStopWordsAssessment.js"],"names":["availableLanguages","calculateStopWordsCountResult","stopWordCount","i18n","score","text","dngettext","keywordHasStopWordsAssessment","paper","researcher","stopWords","getResearch","stopWordsResult","length","assessmentResult","AssessmentResult","setScore","setText","sprintf","isApplicable","isLanguageAvailable","getLocale","hasKeyword","identifier","getResult"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA,MAAMA,qBAAqB,CAAE,IAAF,CAA3B;;AAEA;;;;;;;;;;AAUA,IAAIC,gCAAgC,SAAhCA,6BAAgC,CAAUC,aAAV,EAAyBC,IAAzB,EAAgC;AACnE,KAAKD,gBAAgB,CAArB,EAAyB;AACxB,SAAO;AACNE,UAAO,CADD;AAENC,SAAMF,KAAKG,SAAL,CACL,kBADK;AAEL;AACA,8DACA,8DADA,GAEA,sCALK;AAFA,GAAP;AAUA;;AAED,QAAO,EAAP;AACA,CAfD;;AAiBA;;;;;;;;;AASA,MAAMC,gCAAgC,SAAhCA,6BAAgC,CAAUC,KAAV,EAAiBC,UAAjB,EAA6BN,IAA7B,EAAoC;AACzE,KAAIO,YAAYD,WAAWE,WAAX,CAAwB,oBAAxB,CAAhB;AACA,KAAIC,kBAAkBX,8BAA+BS,UAAUG,MAAzC,EAAiDV,IAAjD,CAAtB;;AAEA,KAAIW,mBAAmB,IAAIC,0BAAJ,EAAvB;AACAD,kBAAiBE,QAAjB,CAA2BJ,gBAAgBR,KAA3C;AACAU,kBAAiBG,OAAjB,CAA0Bd,KAAKe,OAAL,CACzBN,gBAAgBP,IADS,EAEzB,yCAAwB,oBAAxB,CAFyB,EAGzB,yCAAwB,oBAAxB,CAHyB,EAIzB,MAJyB,EAKzBK,UAAUG,MALe,CAA1B;;AAQA,QAAOC,gBAAP;AACA,CAfD;;AAiBA;;;;;;;AAOA,MAAMK,eAAe,SAAfA,YAAe,CAAUX,KAAV,EAAkB;AACtC,OAAMY,sBAAsB,uCAAyBZ,MAAMa,SAAN,EAAzB,EAA4CrB,kBAA5C,CAA5B;AACA,QAAOQ,MAAMc,UAAN,MAAsBF,mBAA7B;AACA,CAHD;;kBAKe;AACdG,aAAY,kBADE;AAEdC,YAAWjB,6BAFG;AAGdY,eAAcA;AAHA,C","file":"keywordStopWordsAssessment.js","sourcesContent":["import getLanguageAvailability from \"../../helpers/getLanguageAvailability\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\nimport AssessmentResult from \"../../values/AssessmentResult\";\n\nconst availableLanguages = [ \"en\" ];\n\n/**\n * Calculate the score based on the amount of stop words in the keyword.\n *\n * @param {number} stopWordCount The amount of stop words to be checked against.\n * @param {Jed} i18n The locale object.\n *\n * @returns {Object} The resulting score object.\n *\n * @deprecated\n */\nvar calculateStopWordsCountResult = function( stopWordCount, i18n ) {\n\tif ( stopWordCount > 0 ) {\n\t\treturn {\n\t\t\tscore: 0,\n\t\t\ttext: i18n.dngettext(\n\t\t\t\t\"js-text-analysis\",\n\t\t\t\t/* Translators: %1$s and %2$s open links to Yoast articles, %3$s is the anchor end tag */\n\t\t\t\t\"%1$sStopwords%3$s: The keyphrase contains stop words. \" +\n\t\t\t\t\"This may or may not be wise depending on the circumstances. \" +\n\t\t\t\t\"%2$sLearn more about stop words%3$s.\",\n\t\t\t),\n\t\t};\n\t}\n\n\treturn {};\n};\n\n/**\n * Execute the Assessment and return a result.\n *\n * @param {Paper} paper The Paper object to assess.\n * @param {Researcher} researcher The Researcher object containing all available researches.\n * @param {Jed} i18n The locale object.\n *\n * @returns {AssessmentResult} The result of the assessment, containing both a score and a descriptive text.\n */\nconst keywordHasStopWordsAssessment = function( paper, researcher, i18n ) {\n\tvar stopWords = researcher.getResearch( \"stopWordsInKeyword\" );\n\tvar stopWordsResult = calculateStopWordsCountResult( stopWords.length, i18n );\n\n\tvar assessmentResult = new AssessmentResult();\n\tassessmentResult.setScore( stopWordsResult.score );\n\tassessmentResult.setText( i18n.sprintf(\n\t\tstopWordsResult.text,\n\t\tcreateAnchorOpeningTag( \"https://yoa.st/34b\" ),\n\t\tcreateAnchorOpeningTag( \"https://yoa.st/34c\" ),\n\t\t\"</a>\",\n\t\tstopWords.length\n\t) );\n\n\treturn assessmentResult;\n};\n\n/**\n * Checks if the keyword stopwords assessment is applicable to the paper.\n *\n * @param {Object} paper The paper to check.\n *\n * @returns {boolean} Returns true if the language is available and the paper has a keyword.\n */\nconst isApplicable = function( paper ) {\n\tconst isLanguageAvailable = getLanguageAvailability( paper.getLocale(), availableLanguages );\n\treturn paper.hasKeyword() && isLanguageAvailable;\n};\n\nexport default {\n\tidentifier: \"keywordStopWords\",\n\tgetResult: keywordHasStopWordsAssessment,\n\tisApplicable: isApplicable,\n};\n"]}